# android-api-fetch
This sample demonstrates the api fetching, displays the list of items and displays
their detail on next fragment screen.

## What demonstrates
* MVVM architecture model
* DataBinding
* RecyclerView
* Retrofit with RxJava
* Dagger2
* Room Database
* ObservableFields
* Glide library for image loading
* Mockito for unit test cases

## Structure
- `app/` - Main application
- `app/test/` - Unit tests

## How to install/run this sample
This sample use the Gradle build system.
1. Open Android Studio and launch the Android SDK manager from it (Tools | Android | SDK Manager)
1. Ensure the following components are installed and updated to the latest version.
   1. *Android SDK Platform-Tools*
   1. *Android Support Repository*
   1. *Google Repository*

1. First download the samples by cloning this repository or downloading an archived snapshot. (See the options at the top of the page.)

1. In Android Studio, use the "Import Android Studio project" or "Import Project" option. Next select one of the sample directories that you downloaded from this repository.
If prompted for a gradle configuration accept the default settings.

To build the sample after you have applied the changes above, you can use the build/run option in Android Studio, or build directly from the command line if you prefer.

**IMPORTANT** Ensure you have set the ANDROID_HOME environment variable.

    cd /path/to/android-basic-samples
    export ANDROID_HOME = /path/to/android/sdk
    ./gradlew build

## Running Unit Tests
 In Android studio:
 - In the *Build Variants* window, make sure the *Local Unit Tests* option is selected.
 -   Check out the relevant code:
     * The application code is located in `src/main/java`
     * Unit Tests are in `src/test/java`
 - Open a unit/local test unit class like `MainActivityViewModelTest.java`.
 - Right click on the class and *Run* as JUnit test.

 From command-line via Gradle:
 - To run all the local unit tests in `app` execute:
 ```
 ./gradlew app:test
 ```

> OR

Create a test configuration with the JUnit4 runner: `org.junit.runners.JUnit4`

* Open *Run* menu | *Edit Configurations*

 * Add a new *JUnit* configuration

 * Choose module *app*

  * Select the class to run by using the *...* button

  * Run the newly created configuration

  _Note_: If all the unit tests have been successful you will get a BUILD SUCCESSFUL message.

## Code coverage

### Unit tests
In Android Studio, code coverage for **unit tests** (executed as JUnit tests) is shown in the editor, next to each line.
Run your tests using the *Run test with code coverage* option. Test reports can be generated changing the *Coverage runner* in the JUnit test configuration.

From the command-line via Gradle, unit tests for the module-plain-java are generated by executing:

```
./gradlew module-plain-java:test module-plain-java:TestReport
```

A HTML report will be available in `android-api-fetch/build/reports/test/html/index.html`

### See the report.
Test coverage reports for Android tests can be found in `app/build/reports/coverage`.





